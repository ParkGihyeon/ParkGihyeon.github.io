---
title:  "[ê¸°ìƒì²­ API] OpenWeatherMap ì˜¤í”ˆì›¨ë”ë§µ API í˜¸ì¶œí•˜ê¸°" 

categories:
  -  Project 
tags:
  - [Python]

toc: true
toc_sticky: true

date: 2022-01-06
last_modified_at: 2022-01-06
---

ğŸ”” OpenWeatherMap apië¥¼ í˜¸ì¶œí•˜ì—¬ ê¸°ìƒì •ë³´ë¥¼ í™•ì¸í•˜ëŠ” ê³¼ì •ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

## 1ï¸âƒ£ OpenWeatherMap ê°€ì…í•˜ê¸°
<https://openweathermap.org/>

APIë¥¼ í˜¸ì¶œí•˜ê¸° ìœ„í•´ì„œëŠ” ê°œì¸ Keyê°€ í•„ìš”í•©ë‹ˆë‹¤.  
ìœ„ ì£¼ì†Œì— ì ‘ì†í•˜ì—¬ íšŒì›ê°€ì…ì„ ë¨¼ì € í•´ì£¼ì„¸ìš”.

ê°€ì… ê³¼ì •ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

1. ìš°ì¸¡ ìƒë‹¨ Sign in í´ë¦­
2. Create an Account í´ë¦­
3. í•„ìš” ì •ë³´ ì…ë ¥, ì²´í¬ë°•ìŠ¤ ì²´í¬
  
![ê°€ì…](https://user-images.githubusercontent.com/45157347/148322457-096d2149-0670-458d-a92d-9543063783c6.JPG)

ì•„ë˜ ì²´í¬ë°•ìŠ¤ 2ê°œëŠ” í•„ìˆ˜ì ìœ¼ë¡œ ì²´í¬í•´ì•¼ í•©ë‹ˆë‹¤.

â˜‘ I am 16 years old and over  
â˜‘ I agree with Privacy Policy, Terms and conditions of sale and Websites terms and conditions of use

<br>

ì´ë©”ì¼ë¡œ ì œê³µë°›ê³ ì í•˜ëŠ” í•­ëª©ì— ì²´í¬í•˜ì‹œë©´ ë©ë‹ˆë‹¤.  
ì €ëŠ” API í˜¸ì¶œ íšŸìˆ˜ë¥¼ ì´ˆê³¼í•˜ëŠ” ê²½ìš°ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ ì²«ë²ˆì§¸ë§Œ ì²´í¬í–ˆìŠµë‹ˆë‹¤.

â˜‘ System news (API usage alert, system update, temporary system shutdown, etc)  
â–¡ Product news (change to price, new product features, etc)  
â–¡ Corporate news (our life, the launch of a new service, etc)

<br>

## 2ï¸âƒ£ API ì‹ ì²­í•˜ê¸°
ë¡œê·¸ì¸ í›„ ë©”ì¸í˜ì´ì§€ ìƒë‹¨ì˜ API ë©”ë‰´ë¡œ ì ‘ê·¼í•˜ì—¬ ì›í•˜ëŠ” APIë¥¼ ì„ íƒí•´ì•¼ í•©ë‹ˆë‹¤.  
ì´ë²ˆ ì‹œê°„ì—ëŠ” **One Call API**ë¥¼ ì‚¬ìš©í•´ ë³´ê² ìŠµë‹ˆë‹¤.  
**API doc**ë¥¼ í´ë¦­í•˜ì—¬ í˜¸ì¶œ í˜•ì‹ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![api](https://user-images.githubusercontent.com/45157347/148325886-20dbc233-5584-4e84-b275-198af34e9168.JPG)

<br>

## 3ï¸âƒ£ API í˜¸ì¶œí•˜ê¸°
ì‚¬ì‹¤ OpenWeatherMapì˜ APIë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì€ êµ‰ì¥íˆ ê°„ë‹¨í•©ë‹ˆë‹¤.  
ìœ„ë„, ê²½ë„, ê°œì¸ keyë§Œ ì…ë ¥í•˜ë©´ ì•„ë˜ ì˜ˆì œë¡œ ë‚ ì”¨ ë°ì´í„°ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```python
import requests
import pprint # printë¥¼ ë³´ê¸° ì¢‹ê²Œ ë§Œë“œëŠ” ëª¨ë“ˆ

# ì›í•˜ëŠ” ì§€ì—­ì˜ ìœ„ê²½ë„ê°’ (ì˜ˆì œëŠ” ë‹¹ì‚°ì—­)
lat = 35.86582227007494
lng = 126.902001

# ê°œì¸ key
api_key = 'ê°œì¸ keyë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.'

api_call = 'https://api.openweathermap.org/data/2.5/onecall?appid=' + api_key
api_call += '&lat=' + str(lat) + '&lon=' + str(lng) + '&exclude=' + 'alerts,daily,minutely' + '&lang=kr'

# json ì‘ë‹µ ì €ì¥
w_dataset = requests.get(api_call).json()

# ë‚ ì”¨ json ì¶œë ¥
pprint.pprint(w_dataset)
```

lat : ìœ„ë„ ì¢Œí‘œ  
lng : ê²½ë„ ì¢Œí‘œ  
api_key : OpenWeatherMap ê°œì¸ key  
1. OpenWeatherMap ìƒë‹¨ ë©”ë‰´ì—ì„œ ìì‹ ì˜ ì•„ì´ë”” í´ë¦­
2. My API Keys í´ë¦­
3. Keyê°’ ë³µì‚¬  

exclude : API í˜¸ì¶œì‹œ í•„ìš”í•˜ì§€ ì•Šì€ ë°ì´í„°ë¥¼ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì§€ê¸ˆì€ ì‹ ê²½ì“°ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.)

<br>

### í˜¸ì¶œ ê²°ê³¼ê°’
pprint.pprint(w_dataset) ì¦‰, í˜¸ì¶œëœ jsonì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```json
{'current': {'clouds': 0,        
             'dew_point': 265.84,
             'dt': 1641442597,   
             'feels_like': 274.68,
             'humidity': 38,
             'pressure': 1028,
             'sunrise': 1641422582,
             'sunset': 1641457956,
             'temp': 278.05,
             'uvi': 1.98,
             'visibility': 10000,
             'weather': [{'description': 'ë§‘ìŒ',
                          'icon': '01d',
                          'id': 800,
                          'main': 'Clear'}],
             'wind_deg': 344,
             'wind_gust': 6.12,
             'wind_speed': 4.37},
 'hourly': [{'clouds': 0,
             'dew_point': 265.84,
             'dt': 1641441600,
             'feels_like': 274.68,
             'humidity': 38,
             'pop': 0,
             'pressure': 1028,
             'temp': 278.05,
             'uvi': 1.98,
             'visibility': 10000,
             'weather': [{'description': 'ë§‘ìŒ',
                          'icon': '01d',
                          'id': 800,
                          'main': 'Clear'}],
             'wind_deg': 344,
             'wind_gust': 6.12,
             'wind_speed': 4.37},
            {'clouds': 0,
             'dew_point': 265.79,
             'dt': 1641445200,
             'feels_like': 274.38,
             'humidity': 38,
             'pop': 0,
             'pressure': 1028,
             'temp': 277.98,
             'uvi': 1.59,
             'visibility': 10000,
             'weather': [{'description': 'ë§‘ìŒ',
                          'icon': '01d',
                          'id': 800,
                          'main': 'Clear'}],
             'wind_deg': 340,
             'wind_gust': 6.46,
             'wind_speed': 4.78}, 
             
             ì´í•˜ ìƒëµ Â·Â·Â·
```

í˜„ì¬ ë‚ ì”¨ëŠ” currentë¥¼, 1ì‹œê°„ ê°„ê²©ì˜ ì˜ˆë³´ëŠ” hourlyë¥¼ ì‚¬ìš©í•˜ì‹œë©´ ë©ë‹ˆë‹¤.  

pop : ê°•ìˆ˜í™•ë¥   
temp : ê¸°ì˜¨  
weather-icon : ë‚ ì”¨ ì½”ë“œ(ë‚ ì”¨ ì•„ì´ì½˜ ì´ë¯¸ì§€ í˜¸ì¶œì— ì‚¬ìš©ë¨)   
weather-main : ë‚ ì”¨  

ë‹¤ìŒ ì‹œê°„ì—ëŠ” í˜¸ì¶œëœ json ë°ì´í„°ë¥¼ ì…ë§›ëŒ€ë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.






***
<br>

    ğŸ’¾ ê³µë¶€í•œ ë‚´ìš©ì„ ê¸°ë¡í•˜ê¸° ìœ„í•œ ë¸”ë¡œê·¸ì…ë‹ˆë‹¤.
    ğŸ“„ ì˜¤ë¥˜ì™€ ì§ˆë¬¸ì€ ëŒ“ê¸€ë¡œ ë‚¨ê²¨ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤!

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}